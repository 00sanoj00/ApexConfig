// =========================================================
// Tsunami's Minimal Apex Legends Config
// ==========================================================
// Version 1.2c | Last Edited: April 9, 2019
// ==========================================================
// Launch Options: +exec autoexec
// ==========================================================
// This config aims to improve the default network
// settings and improve FPS while only minimally
// changing the way the game looks. On top of this,
// useful HUD changes and scripts are provided.
//
// cl_cull_weapon_fx and r_particle_timescale will likely
// be deemed illegal by APEX.PRO and hence won't be enabled.
//
// Questions? Message Tsunami#9794 on Discord!

// Network Tweaks
net_maxcleartime 0.020346 // Packets are sent quicker

// Graphic Tweaks
cl_gib_allow 0 // Disallow gibs
cl_ejectbrass 0 // Spent shells are not animated
cl_show_splashes 0 // Disable water splashes
csm_enabled 0 // Disable cascading shadow maps
dof_enable 0 // Disable depth of field (Blurring at distance)
mat_disable_bloom 1 // Disable bloom
mat_dynamic_tonemapping 0 // Disable dynamic HDR tonemapping
mat_hdr_level 0 // Disable full HDR
mat_reducefillrate 1
mat_screen_blur_enabled 0
prop_active_gib_limit 0 // Zero active gib limit (Default 64)
r_decals 16 // Reduce decals drawn (Default 256)
r_jiggle_bones 0 // Disable jigglebones
shadow_enable 0
violence_agibs 0 // Disable gibs
violence_hgibs 0 // Disable gibs

// Disable Ragdolls
cl_always_ragdoll_radius 0
cl_ragdoll_maxcount 0
cl_ragdoll_force_fade_time 0
cl_phys_maxticks 2 // Max number of physics ticks allowed for client-side physics
                   // Reducing to 2 because ragdolls are disabled (Default 3)

 // Filesystem Tweaks
filesystem_buffer_size 8192 // Use a 8KB buffer for the filesystem
filesystem_max_stdio_read 32 // Use standard read cap

// HUD Tweaks
hud_setting_adsDof 0 // Disable depth of field (blurring) when aiming down sights
hud_setting_healthUseOnHold 1 // Use health item on hold
hud_setting_healthWheelToggle 1 // Makes health wheel a toggle
hud_setting_healthWheelUseOnRelease 1 // Use health item once clicked from wheel
hud_setting_ordnanceUseOnHold 1 // Use grenade item on hold
hud_setting_ordnanceWheelToggle 1 // Makes grenade wheel a toggle
hud_setting_ordnanceWheelUseOnRelease 1 // Use grenade item once clicked from wheel
hud_setting_minimapRotate 1 // Rotates minimap
hud_setting_pingAlpha 0.75 // Makes HUD semi-transparent
viewmodel_selfshadow 0 // Disables viewmodel shadows

// Misc Tweaks
// demo_autoRecord 0 // Would disable demo recording (Defaults to 1, but the most
                     // interesting thing being there is no visible system for
                     // recording and playing back demos, needs further testing)
cl_bones_incremental_blend 1 // Don't reblend bones we don't need to in SetupBones
cl_fasttempentcollision 20 // Check every 20 frames for collisions (Default 5)
in_usekeyboardsampletime 0 // Disable keyboard sample smoothing
                           // Similar to mouse filtering, more important on systems
                           // with lower FPS
not_focus_sleep 0 // Do not limit FPS when the engine is not focused
                  // This is equal to engine_no_focus_sleep 0 in other Source games
origin_presense_updateRate 10 // Relax seconds between each Origin prescence update
                              // Brings it inline with friends_onlineUpdateInterval
r_norefresh 1 // Do not store a useless and unused frame time variable
r_fastzreject -1 // Renders first pass of a scene with a z-buffer on the CPU and
                // then has the GPU quickly render the scene in a second pass,
                // with the visible parts of the scene already calculated
                // Setting to -1 lets hardware decide - 1 on NVIDIA and 0 on ATI

// Null-cancelling movement script - Ported from TF2
alias +mfwd "-backward;+forward;alias checkfwd +forward"
alias +mback "-forward;+backward;alias checkback +backward"
alias +mleft "-moveright;+moveleft;alias checkleft +moveleft"
alias +mright "-moveleft;+moveright;alias checkright +moveright"
alias -mfwd "-forward;checkback;alias checkfwd none"
alias -mback "-backward;checkfwd;alias checkback none"
alias -mleft "-moveleft;checkright;alias checkleft none"
alias -mright "-moveright;checkleft;alias checkright none"
alias checkfwd none
alias checkback none
alias checkleft none
alias checkright none
alias none ""

bind w +mfwd
bind s +mback
bind a +mleft
bind d +mright

// Autosprint script
alias autorun "autorun1"
alias autorun1 "+forward;+speed;alias autorun autorun2"
alias autorun2 "-forward;-speed;alias autorun autorun1"

bind "capslock" "autorun"
